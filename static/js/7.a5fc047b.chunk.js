(this.webpackJsonpykring=this.webpackJsonpykring||[]).push([[7],{303:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(25),o=n(23),u=n(299),a=n(4),i=n(300),l=n(110);var s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(t,Object(a.a)({defaultTheme:l.a},e))},f=n(93),d=n.n(f),p=n(24),b=n(69);var h=function(t){switch(t.universityEng){case"korea.ac.kr":return"\uace0\ub824\ub300\ud559\uad50";case"yonsei.ac.kr":return"\uc5f0\uc138\ub300\ud559\uad50";case"snu.ac.kr":return"\uc11c\uc6b8\ub300\ud559\uad50";case"sogang.ac.kr":return"\uc11c\uac15\ub300\ud559\uad50";case"skky.ac.kr":return"\uc131\uade0\uad00\ub300\ud559\uad50";case"hanyang.ac.kr":return"\ud55c\uc591\ub300\ud559\uad50";default:return null}},j=n(0),g=s((function(t){return{root:{"& .MuiTextField-root":{margin:t.spacing(1)}}}}));function x(){var t=g(),e=Object(r.useState)(""),n=Object(o.a)(e,2),c=n[0],a=n[1],i=Object(p.b)(),l=Object(p.c)((function(t){return t.auth.loading})),s=/^[a-zA-Z0-9]([-_]?[a-zA-Z0-9])*@(korea.ac.kr|yonsei.ac.kr|snu.ac.kr|sogang.ac.kr|skky.edu|hanyang.ac.kr)$/,f=Object(r.useCallback)((function(t){t.preventDefault(),a(t.target.value)}),[]),x=Object(r.useCallback)((function(t){if(t.preventDefault(),!c.match(s))return t.preventDefault(),alert("\uc62c\ubc14\ub978 \uba54\uc77c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694.");var e=c.indexOf("@"),n=c.slice(e+1),r=h(n);i(b.j(c,r))}),[c]);return Object(j.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:[Object(j.jsx)("div",{className:"w-full text-center mt-5",children:Object(j.jsx)(u.a,{error:!c.match(s),id:"outlined-error-helper-text",label:"\ud559\uad50 \uc774\uba54\uc77c \uc778\uc99d\ud558\uae30",helperText:c.match(s)?"":"\uc774\uba54\uc77c\uc744 \uc62c\ubc14\ub974\uac8c \uc785\ub825\ud574\uc8fc\uc138\uc694.",autoFocus:!0,required:!0,fullWidth:!0,variant:"outlined",onChange:function(t){return f(t)}})}),l?Object(j.jsx)("div",{style:{height:"30px",left:"calc(50% - 10px)"},className:"absolute ",children:Object(j.jsx)(d.a,{color:{red:0,green:0,blue:0,alpha:1},segmentWidth:2})}):null,Object(j.jsx)("button",{onClick:function(t){return x(t)},className:"font-sans w-full border-2 rounded-2xl px-5 py-3 mt-10 bg-black text-white hover:bg-gray-400 focus:outline-none",children:"\uc778\uc99d\uba54\uc77c \uc804\uc1a1"})]})}e.default=function(t){var e=t.history,n=Object(p.c)((function(t){return t.auth.loading})),o=Object(p.c)((function(t){return t.auth.isEmailSent})),u=Object(p.c)((function(t){return t.auth.isConfirmed})),a=Object(p.c)((function(t){return t.auth.email})),i=Object(p.c)((function(t){return t.auth.univ})),l=Object(p.b)(),s=null;s=!1===n?Object(j.jsxs)("p",{style:{fontSize:"15px",color:"#C5C1C1",textAlign:"left",margin:"20px auto"},children:[Object(j.jsx)("strong",{style:{color:"#4A87FF"},children:a})," \uba54\uc77c\ub85c \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc778\uc99d\uba54\uc77c\uc744 \ud655\uc778\ubc14\ub78d\ub2c8\ub2e4. \uc778\uc99d \uba54\uc77c\uc744 \ud655\uc778\ud558\uc2dc\uace0 \ub3cc\uc544\uc624\uc154\uc11c \uc544\ub798\uc758 \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694!"]}):Object(j.jsxs)("p",{style:{fontSize:"14px",color:"#C5C1C1",textAlign:"left",margin:"20px auto"},children:["\uc774\uba54\uc77c\uc744 \uc778\uc99d\ud574\uc8fc\uc138\uc694. ",Object(j.jsx)("br",{}),"\uc5f0\uace0\ub9c1\uc740 \ubca0\ud0c0\ud14c\uc2a4\ud2b8\ub2e8\uacc4\ub85c  ",Object(j.jsx)("br",{}),"\uc11c\uc6b8\ub300 \uace0\ub824\ub300 \uc5f0\uc138\ub300 \uc11c\uac15\ub300 \ud55c\uc591\ub300 \uc131\uade0\uad00\ub300 ",Object(j.jsx)("br",{})," \ud559\uc0dd\ub4e4\ub85c\ub9cc \uc9c4\ud589\uc911\uc785\ub2c8\ub2e4."]});var f=Object(r.useCallback)((function(t){t.preventDefault(),l(b.j(a,i))}),[a]),h=Object(r.useCallback)((function(t){t.preventDefault(),l(b.k(a))}),[a]);return Object(r.useEffect)((function(){if(!0===u)e.push("/setting/1");else{if(!1!==u)return null;alert("\uba54\uc77c\uc5d0\uc11c \uc778\uc99d\ud558\uae30 \ubc84\ud2bc\uc744 \uba3c\uc800 \ub20c\ub7ec\uc8fc\uc138\uc694.")}}),[u]),Object(j.jsxs)(c.a,{headerNone:!0,footerNone:!0,children:[Object(j.jsx)("nav",{style:{height:"60px",borderBottom:"1px solid #eee"},className:"flex flex-row items-center justify-between ",children:Object(j.jsx)("img",{onClick:function(){return e.goBack()},style:{width:"25px",height:"25px",cursor:"pointer"},src:"/arrow-back-outline.svg",alt:"back"})}),Object(j.jsxs)("section",{className:"mb-10",children:[Object(j.jsxs)("section",{style:{padding:"10px 30px"},className:"text-center mt-5",children:[Object(j.jsx)("h1",{style:{textAlign:"left",marginBottom:"5px",fontSize:"24px"},className:"text-2xl text-left",children:"\uc774\uba54\uc77c \uc778\uc99d"}),s]}),Object(j.jsx)("section",{className:"px-10 mb-5",children:o?Object(j.jsxs)(j.Fragment,{children:[n?Object(j.jsx)("div",{style:{height:"30px",left:"calc(50% - 10px)"},className:"absolute ",children:Object(j.jsx)(d.a,{color:{red:0,green:0,blue:0,alpha:1},segmentWidth:2})}):null,Object(j.jsx)("button",{onClick:function(t){return h(t)},className:"font-sans w-full border-2 rounded-2xl px-5 py-3 mt-10 bg-black text-white  focus:outline-none",children:"\uc778\uc99d\ud55c \ub4a4 \ub20c\ub7ec\uc8fc\uc138\uc694!"}),Object(j.jsx)("button",{onClick:function(t){return f(t)},className:"font-sans w-full border-2 rounded-2xl px-5 py-3 mt-3 bg-white text-black focus:outline-none ",children:"\uc778\uc99d\uba54\uc77c \uc7ac\uc804\uc1a1"})]}):Object(j.jsx)(x,{})})]})]})}},69:function(t,e,n){"use strict";n.d(e,"j",(function(){return a})),n.d(e,"k",(function(){return s})),n.d(e,"d",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"a",(function(){return b})),n.d(e,"i",(function(){return h})),n.d(e,"n",(function(){return x})),n.d(e,"c",(function(){return m})),n.d(e,"l",(function(){return v})),n.d(e,"m",(function(){return k})),n.d(e,"g",(function(){return C})),n.d(e,"f",(function(){return y})),n.d(e,"o",(function(){return N})),n.d(e,"e",(function(){return A})),n.d(e,"p",(function(){return T})),n.d(e,"q",(function(){return z}));var r=n(3),c=n(96),o=n.n(c).a.create({baseURL:"https://ykring.herokuapp.com"}),u=function(){return{type:r.n}},a=function(t,e){return function(n){n({type:r.o});var c={email:t};o.post("/email",c).then((function(c){console.log(c),c.data.success?n(function(t,e){return{type:r.p,email:t,univ:e}}(t,e)):(n(u()),alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694"))})).catch((function(t){console.log(t),alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694"),n(u())}))}},i=function(){return{type:r.j}},l=function(){return{type:r.k}},s=function(t){return function(e){e({type:r.l});var n={email:t};o.post("/check/email",n).then((function(t){console.log(t),t.data.success?(e({type:r.m}),e(l())):(e(i()),e(l()))})).catch((function(t){console.log(t),e(i()),e(l()),alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694")}))}},f=function(t){return{type:r.b,age:t}},d=function(t){return{type:r.d,gender:t}},p=function(t){return{type:r.h,job:t}},b=function(t){return{type:r.a,adj:t}},h=function(t){return{type:r.i,location:t}},j=function(){return{type:r.v}},g=function(){return{type:r.y}},x=function(t){return function(e){e({type:r.w}),console.log(t),o.post("/img",t).then((function(t){console.log(t);var n=t.data.data;t.data.success?(e(function(t){return{type:r.x,imgAwsUrl:t}}(n)),e(g())):(e(j()),e(g()))})).catch((function(t){console.log(t),e(j()),e(g())}))}},m=function(t){return{type:r.c,articleText:t}},y=function(t){return{type:r.f,interestArr:t}},O=function(){return{type:r.q}},k=function(){return{type:r.r}},v=function(t){return function(e){e({type:r.s});var n={displayName:t};o.post("/check/name",n).then((function(n){console.log(n);var c=n.data.success;e(c?function(t){return{type:r.t,displayName:t}}(t):O())})).catch((function(t){console.log(t),e(O())}))}},C=function(t){return{type:r.g,introText:t}},w=function(){return{type:r.z}},N=function(t){return function(e){e({type:r.A}),o.post("/img",t).then((function(t){console.log(t);var n=t.data.data,c=t.data.success;e(c?function(t){return{type:r.B,imgAwsUrl:t}}(n):w())})).catch((function(t){console.log(t),e(w())}))}},A=function(t){return{type:r.e,instagramId:t}},S=function(){return{type:r.C}},T=function(t,e,n,c,u,a,i,l,s,f,d,p,b){return function(h){h({type:r.D});var j={email:t,gender:e,age:n,job:c,adj:u,location:a,articleImgSrc:i,articleText:l,displayName:s,interestArr:f,introText:d,profileImgSrc:p,instagramId:b};console.log(j),o.post("/pre/user",j).then((function(t){console.log(t);var e=t.data.success;h(e?{type:r.E}:S())})).catch((function(t){console.log(t),h(S())}))}},z=function(t){return function(e){e(function(t){return{type:r.F,updatedProfileImg:t}}(t))}}}}]);
//# sourceMappingURL=7.a5fc047b.chunk.js.map