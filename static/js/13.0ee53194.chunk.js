(this.webpackJsonpykring=this.webpackJsonpykring||[]).push([[13],{337:function(e,t,n){"use strict";n.r(t);var r=n(15),c=n(1),o=n(26),u=n(27),a=n(61),i=n(127),l=n.n(i),s=n(0);t.default=function(e){var t=e.history,n=Object(c.useState)(""),i=Object(r.a)(n,2),f=i[0],p=i[1],d=Object(c.useState)(""),g=Object(r.a)(d,2),y=g[0],x=g[1],h=Object(c.useState)(""),j=Object(r.a)(h,2),b=j[0],m=j[1],O=Object(c.useState)(null),v=Object(r.a)(O,2),S=v[0],C=v[1],N=Object(c.useState)(null),k=Object(r.a)(N,2),w=k[0],A=k[1],z=Object(c.useState)(null),I=Object(r.a)(z,2),P=I[0],T=I[1],R=Object(c.useState)(!0),D=Object(r.a)(R,2),G=D[0],U=D[1],E=Object(c.useRef)(),J=Object(c.useRef)(),L=Object(c.useRef)(),q=Object(o.c)((function(e){return e.auth.loading})),B=Object(o.c)((function(e){return e.auth.errCode})),F=Object(o.b)();Object(c.useEffect)((function(){if(null===B)return null;0===B?(console.log("\ub2c9\ub124\uc784 \uc0dd\uc131 \uc131\uacf5"),t.push("/setting/1")):452===B?C("[\uc911\ubcf5] ".concat(E.current.value,"\uc740 \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")):alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}),[B]);var V=Object(c.useCallback)((function(e){e.preventDefault();var t=e.target.value;p(t);t.match(/^@/)?t.length<4?(C("\ub2c9\ub124\uc784\uc740 3\uc790\ub9ac \uc774\uc0c1\uc73c\ub85c \ud574\uc8fc\uc138\uc694."),U(!0)):(C(" ")," "===P&&" "===w&&U(!1)):(C("\ub2c9\ub124\uc784 \ub9e8\uc55e\uc5d0 @\ub97c \ud3ec\ud568\ud574\uc8fc\uc138\uc694"),U(!0))}),[f,y,b]),W=Object(c.useCallback)((function(e){e.preventDefault();var t=e.target.value;x(t),t.length<6||t.length>10?(A("\ube44\ubc00\ubc88\ud638\ub294 6\uc790\ub9ac \uc774\uc0c1 10\uc790\ub9ac \uc774\ud558\uc785\ub2c8\ub2e4."),U(!0)):(A(" ")," "===P&&" "===S&&U(!1))}),[f,y,b]),H=Object(c.useCallback)((function(e){var t=e.target.value;m(t),11!==t.length?(T("\uc804\ud654\ubc88\ud638\ub97c \uc62c\ubc14\ub974\uac8c \uc785\ub825\ud574\uc8fc\uc138\uc694."),U(!0)):(T(" ")," "===S&&" "===w&&U(!1))}),[f,y,b]),K=Object(c.useCallback)((function(e){e.preventDefault();var t=E.current.value,n=J.current.value,r=L.current.value;console.log(t,n,r),F(a.p(t,n,r))}),[]);return Object(s.jsxs)(u.a,{headerNone:!0,footerNone:!0,children:[Object(s.jsx)("div",{style:{height:"60px"},className:"flex flex-row items-center justify-between "}),Object(s.jsxs)("section",{className:"mb-10",children:[Object(s.jsxs)("section",{style:{padding:"10px 30px"},className:"text-center mt-5",children:[Object(s.jsx)("h1",{style:{textAlign:"left",marginBottom:"5px",fontSize:"24px"},className:"text-2xl text-left",children:"\ud68c\uc6d0\uac00\uc785 \uc2dc\uc791"}),Object(s.jsx)("p",{style:{fontSize:"15px",color:"#C5C1C1",textAlign:"left",margin:"20px auto",whiteSpace:"preline"},children:" \u203b \uc804\ud654\ubc88\ud638\ub294 XIRCLE \uad00\ub828 \uc911\uc694 \uacf5\uc9c0\uc0ac\ud56d\uc744 \ubcf4\ub0bc\ub54c \uc774\uc678\uc5d0 \uc808\ub300 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."})]}),Object(s.jsx)("section",{className:"px-10 mb-5",children:Object(s.jsx)("section",{className:"text-center my-10",children:Object(s.jsxs)("form",{onSubmit:function(e){return K(e)},autoComplete:"off",noValidate:!0,children:[Object(s.jsxs)("div",{className:"flex flex-col",children:[Object(s.jsx)("input",{type:"text",placeholder:"@\uc0ac\uc6a9\uc790 \uc774\ub984(\uc790\uc720)",className:"bg-gray-100 px-5 py-5",autoFocus:!0,ref:E,onChange:function(e){return V(e)}}),S?Object(s.jsx)("p",{style:{color:"red",margin:"10px 0 10px 5px",whiteSpace:"pre",fontSize:12,textAlign:"left"},children:S}):Object(s.jsx)("p",{style:{color:"#C5C1C1",margin:"10px 0 10px 5px",whiteSpace:"pre",fontSize:12,textAlign:"left"},children:"@\uc0ac\uc6a9\uc790\uc774\ub984\uc5d0\ub294 \uc601\uc5b4 \ub300\uc18c\ubb38\uc790, \uc22b\uc790,\ubc11\uc904 \ubc0f \ub9c8\uce68\ud45c\ub9cc \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694."}),Object(s.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",className:"bg-gray-100 px-5 py-5",ref:J,onChange:function(e){return W(e)}}),w?Object(s.jsx)("p",{style:{color:"red",margin:"10px 0 10px 5px",whiteSpace:"pre",fontSize:12,textAlign:"left"},children:w}):Object(s.jsx)("p",{style:{color:"#C5C1C1",margin:"10px 0 10px 5px",whiteSpace:"pre",fontSize:12,textAlign:"left"},children:"\ub744\uc5b4\uc4f0\uae30 \uc5c6\ub294 6-10\uc790\ub9ac \uc601\uc5b4 \ub300\uc18c\ubb38\uc790\uc640 \uc22b\uc790 \uc870\ud569\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(s.jsx)("input",{type:"text",placeholder:"\uc804\ud654\ubc88\ud638\ub97c \uc785\ub825.",className:"bg-gray-100 px-5 py-5 mt-5",ref:L,onChange:function(e){return H(e)}}),P?Object(s.jsx)("p",{style:{color:"red",margin:"10px 0 10px 5px",whiteSpace:"pre",fontSize:12,textAlign:"left"},children:P}):Object(s.jsx)("p",{style:{color:"#C5C1C1",margin:"10px 0 10px 5px",whiteSpace:"pre",fontSize:12,textAlign:"left"},children:"-\uc5c6\uc774 \uc785\ub825\ud574\uc8fc\uc138\uc694."})]}),q?Object(s.jsx)("div",{style:{height:"30px",left:"calc(50% - 10px)"},className:"absolute ",children:Object(s.jsx)(l.a,{color:{red:0,green:0,blue:0,alpha:1},segmentWidth:2})}):null,Object(s.jsx)("button",{disabled:G,onClick:function(e){return K(e)},style:{width:"100%",fontSize:16,padding:"15px 0",margin:"40px 0 20px"},className:" rounded-lg text-white bg-gray-400 focus:outline-none",children:"\ub2e4\uc74c"})]})})})]})]})}},61:function(e,t,n){"use strict";n.d(t,"l",(function(){return z})),n.d(t,"m",(function(){return T})),n.d(t,"p",(function(){return J})),n.d(t,"q",(function(){return B})),n.d(t,"n",(function(){return G})),n.d(t,"o",(function(){return V})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return f})),n.d(t,"k",(function(){return p})),n.d(t,"r",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return g})),n.d(t,"s",(function(){return m})),n.d(t,"t",(function(){return N})),n.d(t,"u",(function(){return k}));var r=n(3),c=n(76),o=n.n(c).a.create({baseURL:"https://ykring.herokuapp.com"}),u=function(e){return{type:r.j,isPublic:e}},a=function(e){return{type:r.i,isGraduate:e}},i=function(e){return{type:r.f,gender:e}},l=function(e){return{type:r.b,age:e}},s=function(e){return{type:r.k,job:e}},f=function(e){return{type:r.a,adj:e}},p=function(e,t,n){return{type:r.l,location:e,lng:t,lat:n}},d=function(e){return{type:r.h,introText:e}},g=function(e){return{type:r.g,interestArr:e}},y=function(){return{type:r.P}},x=function(e,t){return{type:r.Q,imgAwsUrl:e,payloadType:t}},h=function(){return{type:r.O}},j=function(){return{type:r.R}},b=function(e,t){return function(n){n(y()),o.post("/img",e).then((function(e){console.log(e);var r=e.data.data;e.data.success?(console.log(t),n(x(r,t)),n(j())):(n(h()),n(j()))})).catch((function(e){console.log(e),n(h()),n(j())}))}},m=function(e,t){return function(n){n(y()),o.post("/img",e).then((function(e){console.log(e);var r=e.data.data;e.data.success?(n(x(r,t)),n(j())):(n(h()),n(j()))})).catch((function(e){console.log(e),n(h())}))}},O=function(e){return{type:r.d,articleText:e}},v=function(e){return{type:r.c,articleTag:e}},S=function(){return{type:r.S}},C=function(){return{type:r.S}},N=function(e,t,n,c,u,a,i,l,s,f,p,d,g,y,x,h,j,b,m,O,v){return function(N){N({type:r.U});var k={gender:l,age:s,adj:p,job:f,location:d,longitude:n,latitude:t,displayName:h,profileImgSrc:m,introText:b,interestArr:j,phoneNumber:e,isPublic:u,isGraduate:a,resume:O,workPlace:v,password:c,email:i,articleImgSrc:g,articleText:y,articleTag:x};o.post("/pre/user",k).then((function(e){var t,n;console.log(e),e.data.success?N((t=O,n=v,{type:r.V,resume:t,workPlace:n})):(N(S()),N(C()),alert(e.data.message))})).catch((function(e){console.log(e),N(S()),N(C()),alert("\uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}))}},k=function(e){return function(t){t(function(e){return{type:r.W,updatedProfileImg:e}}(e))}},w=function(){return{type:r.v}},A=function(){return{type:r.y}},z=function(e){return function(t){t({type:r.w});var n={email:e};o.post("/email",n).then((function(n){if(console.log(n),n.data.success)t(function(e){return{type:r.x,email:e}}(e));else{n.data.code;t(w()),t(A())}})).catch((function(e){console.log(e);var n=e.data.message;alert(n),t(w()),t(A())}))}},I=function(e){return{type:r.r,errCode:e}},P=function(){return{type:r.s}},T=function(e,t,n){return console.log(n),function(c){c({type:r.t});var u={email:e,code:t};o.post("/check/email",u).then((function(e){if(console.log(e),e.data.success)c(function(e){return{type:r.u,univ:e}}(n)),c(P());else{var t=e.data.code;console.log(t),c(I(t)),c(P())}})).catch((function(e){console.log(e),c(I(e.code)),alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694")}))}},R=function(e){return{type:r.z,errCode:e}},D=function(){return{type:r.A}},G=function(e){return function(t){t({type:r.B});var n={email:e};console.log(n),o.post("/find/info",n).then((function(e){if(console.log(e),e.data.success)t({type:r.C});else{var n=e.data.code;console.log(n),t(R(n)),t(D()),457==n?alert("\uac00\uc785\ub418\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."):451===n&&alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694")}})).catch((function(e){var n=e.data.code;t(R(n)),t(D()),alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4\uc5d0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694")}))}},U=function(e){return{type:r.G,errCode:e}},E=function(){return{type:r.H}},J=function(e,t,n){return function(c){c({type:r.I});var u={displayName:e};console.log(u),o.post("/check/name",u).then((function(o){if(console.log(o),o.data.success)c(function(e,t,n){return{type:r.J,displayName:e,pwd:t,phoneNumber:n}}(e,t,n));else{var u=o.data.data;console.log(u),c(U(u)),c(E())}})).catch((function(e){c(U(e)),c(E()),alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694")}))}},L=function(e){return{type:r.K,error:e}},q=function(){return{type:r.L}},B=function(e,t){return function(n){n({type:r.M});var c={displayName:e,password:t};o.post("/login",c).then((function(t){if(console.log(t),t.data.success){var c=t.data.data.token;n(function(e,t){return{type:r.N,displayName:e,token:t}}(e,c)),localStorage.setItem("tk",c),n(V(c))}else{var o=t.data.code;console.log(o),n(L(o)),n(q())}})).catch((function(e){console.log(e),n(L(e)),n(q()),alert("\ub124\ud2b8\uc6cc\ud06c \ud639\uc740 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694")}))}},F=function(e,t,n,c,o,y,x,h,j,b,m,O,v,S){return function(C){var N;console.log(e,t,n,c,o,y,x,h,j,b,m,O,v,S),C(function(e){return{type:r.n,profileImgSrc:e}}(e)),C(a(x)),C(u(h)),C(f(t)),C(s(n)),C(i(o)),C(function(e){return{type:r.e,displayNameInUser:e}}(c)),C((N=y,{type:r.p,univ:N})),C(p(j)),C(l(b)),C(function(e){return{type:r.o,resume:e}}(m)),C(function(e){return{type:r.q,workPlace:e}}(O)),C(d(v)),C(g(S)),C({type:r.F})}},V=function(e){return function(t){t({type:r.E}),o.get("/user/profile",{headers:{"access-token":"".concat(e)}}).then((function(e){if(console.log(e),e.data.success){var n=e.data.data,c=n.profileImgSrc,o=n.adj,u=n.job,a=n.displayName,i=n.gender,l=n.university,s=n.isGraduate,f=n.isPublic,p=n.location,d=n.age,g=n.resume,y=n.workPlace,x=n.introText,h=n.hashtagCount;t(F(c,o,u,a,i,l,s,f,p,d,g,y,x,h))}else t({type:r.D}),alert("\uc8c4\uc1a1\ud569\ub2c8\ub2e4 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694.")})).catch((function(e){console.log(e),alert("\uc8c4\uc1a1\ud569\ub2c8\ub2e4 \uc11c\ubc84\uc5d0 \uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694.")}))}}}}]);
//# sourceMappingURL=13.0ee53194.chunk.js.map